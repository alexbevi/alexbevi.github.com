<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Will Upgrading My MongoDB Server Version Break My Application?" /><meta property="og:locale" content="en" /><meta name="description" content="Upgrading components is an important part of maintaining a healthy application. The MongoDB Server is continually being developed to include new features and functionality, as well as to fix bugs, potential vulnerabilities and attack vectors. To ensure users are using the “latest and greatest” whenever possible, MongoDB publicizes Software Lifecycle Schedules to make it clear when various components will reach end of life (EOL)." /><meta property="og:description" content="Upgrading components is an important part of maintaining a healthy application. The MongoDB Server is continually being developed to include new features and functionality, as well as to fix bugs, potential vulnerabilities and attack vectors. To ensure users are using the “latest and greatest” whenever possible, MongoDB publicizes Software Lifecycle Schedules to make it clear when various components will reach end of life (EOL)." /><link rel="canonical" href="https://www.alexbevi.com/blog/2023/01/13/will-upgrading-my-mongodb-server-version-break-my-application/" /><meta property="og:url" content="https://www.alexbevi.com/blog/2023/01/13/will-upgrading-my-mongodb-server-version-break-my-application/" /><meta property="og:site_name" content="ALEX BEVILACQUA" /><meta property="og:image" content="https://www.alexbevi.com/images/mongodb-logo.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-01-13T09:21:00-05:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://www.alexbevi.com/images/mongodb-logo.png" /><meta property="twitter:title" content="Will Upgrading My MongoDB Server Version Break My Application?" /><meta name="twitter:site" content="@alexbevi" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-05-09T12:45:05-04:00","datePublished":"2023-01-13T09:21:00-05:00","description":"Upgrading components is an important part of maintaining a healthy application. The MongoDB Server is continually being developed to include new features and functionality, as well as to fix bugs, potential vulnerabilities and attack vectors. To ensure users are using the “latest and greatest” whenever possible, MongoDB publicizes Software Lifecycle Schedules to make it clear when various components will reach end of life (EOL).","headline":"Will Upgrading My MongoDB Server Version Break My Application?","image":"https://www.alexbevi.com/images/mongodb-logo.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.alexbevi.com/blog/2023/01/13/will-upgrading-my-mongodb-server-version-break-my-application/"},"url":"https://www.alexbevi.com/blog/2023/01/13/will-upgrading-my-mongodb-server-version-break-my-application/"}</script><title>Will Upgrading My MongoDB Server Version Break My Application? | ALEX BEVILACQUA</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ALEX BEVILACQUA"><meta name="application-name" content="ALEX BEVILACQUA"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="stylesheet" href="/assets/lib/fonts/main.css"><link rel="stylesheet" href="/assets/lib/bootstrap/bootstrap.min.css"><link rel="stylesheet" href="/assets/lib/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="/assets/lib/tocbot/tocbot.min.css"><link rel="stylesheet" href="/assets/lib/magnific-popup/magnific-popup.css"> <script src="/assets/lib/jquery/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script> <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/lightgallery.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/plugins/zoom/lg-zoom.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/css/lightgallery-bundle.min.css" rel="stylesheet"><link href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/css/lg-transitions.min.css" rel="stylesheet"><link href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/css/lg-zoom.min.css" rel="stylesheet"><link href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/css/lg-thumbnail.min.css" rel="stylesheet"><style> .inline-gallery-container { width: 100%; // set 60% height height: 0; padding-bottom: 65%; }</style><body data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/images/avatar.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">ALEX BEVILACQUA</a></div><div class="site-subtitle font-italic">my little corner of the interwebs</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/alexbevi " aria-label="github" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/alexbevi " aria-label="twitter" target="_blank" rel="noopener noreferrer"> <i class="fab fa-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['alex','alexbevi.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="@alexbevi@ruby.social" aria-label="mastodon" target="_blank" rel="noopener noreferrer me"> <i class="fab fa-mastodon"></i> </a> <a href="https://linkedin.com/in/alexbevi" aria-label="linkedin" target="_blank" rel="noopener noreferrer"> <i class="fab fa-linkedin"></i> </a> <a href="https://stackoverflow.com/users/195509" aria-label="stack-overflow" target="_blank" rel="noopener noreferrer"> <i class="fab fa-stack-overflow"></i> </a> <a href="https://www.facebook.com/alexbevi" aria-label="facebook" target="_blank" rel="noopener noreferrer"> <i class="fab fa-facebook"></i> </a> <a href="https://reddit.com/user/alexbevi" aria-label="reddit" target="_blank" rel="noopener noreferrer"> <i class="fab fa-reddit"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Will Upgrading My MongoDB Server Version Break My Application?</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Will Upgrading My MongoDB Server Version Break My Application?</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1673619660" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jan 13, 2023 </em> </span> <span> Updated <em class="" data-ts="1683650705" data-df="ll" data-toggle="tooltip" data-placement="bottom"> May 9, 2023 </em> </span><div class="mt-3 mb-3"> <a href="/images/mongodb-logo.png" class="popup img-link preview-img shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 630'%3E%3C/svg%3E" data-src="/images/mongodb-logo.png" alt="Preview Image" width="1200" height="630" class="lazyload" data-proofer-ignore></a></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/alexbevi">Alex Bevilacqua</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1223 words"> <em>6 min</em> read </span></div></div></div><div class="post-content"><p>Upgrading components is an important part of maintaining a healthy application. The MongoDB Server is continually being developed to include new features and functionality, as well as to fix bugs, potential vulnerabilities and attack vectors. To ensure users are using the “latest and greatest” whenever possible, MongoDB publicizes <a href="https://www.mongodb.com/support-policy/lifecycles">Software Lifecycle Schedules</a> to make it clear when various components will reach end of life (EOL).</p><p>The applications that you’ve built that connect to MongoDB are using <a href="https://www.mongodb.com/docs/drivers/">MongoDB Drivers</a>, which at the time of writing include official releases for <a href="https://www.mongodb.com/docs/drivers/c/">C</a>, <a href="https://www.mongodb.com/docs/drivers/cxx/">C++</a>, <a href="https://www.mongodb.com/docs/drivers/csharp/">C# (.NET)</a>, <a href="https://www.mongodb.com/docs/drivers/go/current/">Go</a>, <a href="https://www.mongodb.com/docs/drivers/java-drivers/">Java</a>, <a href="https://www.mongodb.com/docs/drivers/node/current/">Node.js</a>, <a href="https://www.mongodb.com/docs/drivers/php/">PHP</a>, <a href="https://www.mongodb.com/docs/drivers/python/">Python</a>, <a href="https://www.mongodb.com/docs/ruby-driver/current/">Ruby</a>, <a href="https://www.mongodb.com/docs/drivers/rust/">Rust</a>, <a href="https://www.mongodb.com/docs/drivers/scala/">Scala</a> and <a href="https://www.mongodb.com/docs/drivers/swift/">Swift</a>.</p><p>Note that “break my application” is extremely generic and is meant to encompass a category of issues such as “not being able to connect”, “application can’t start at all”, “can’t return data”, etc.</p><h2 id="im-using-the-stable-api"><span class="mr-2">I’m using the Stable API!</span><a href="#im-using-the-stable-api" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The MongoDB <a href="https://www.mongodb.com/docs/manual/reference/stable-api/">Stable API</a> was created to allow you to upgrade your MongoDB server at will, and ensure that behavior changes between MongoDB versions do not break your application.</p><p>The Stable API provides long-term API stability for applications and supports more frequent releases and automatic server upgrades. This allows your applications to take advantage of rapidly released features without risking backwards-breaking changes.</p><p>If your application is already using the Stable API via your current Driver you shouldn’t have to worry further about compatibility as it relates to a MongoDB Server upgrade.</p><h2 id="what-version-of-mongodb-does-my-driver-support"><span class="mr-2">What version of MongoDB does my Driver support?</span><a href="#what-version-of-mongodb-does-my-driver-support" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Each official Driver listed above will contain a compatibility matrix (see the <a href="https://www.mongodb.com/docs/drivers/node/current/compatibility/">Node.js Compatibility</a> as an example), which should clearly show you what MongoDB Server versions are actively being tested against which versions of the Driver.</p><p><a href="/images/driver-compat-1.png" class="popup img-link "><img data-src="/images/driver-compat-1.png" alt="" class="lazyload" data-proofer-ignore></a></p><blockquote class="prompt-warning"><p>Note that at the time of writing MongoDB <strong>does not</strong> have an official Support Policy for Drivers. If this changes in the future it would be reflected in the <a href="https://www.mongodb.com/changes-mongodb-support-policy">Changes to MongoDB Support Policy</a></p></blockquote><p>Neither the <a href="https://www.mongodb.com/support-policy/legacy">Legacy Support Policy</a> nor the <a href="https://www.mongodb.com/support-policy/software">Software Support Policy</a> call out drivers directly. As a result the best guidance to follow is to ensure the version of the MongoDB Driver your application is using is actively being tested against the version of the MongoDB Server you’re using.</p><p>If you’re using any <a href="https://www.mongodb.com/docs/drivers/community-supported-drivers/">Community Supported Drivers</a>, clarification regarding support and compatibility should be directed to those communities directly.</p><h2 id="what-if-im-using-a-library-that-includes-a-mongodb-driver"><span class="mr-2">What if I’m using a library that includes a MongoDB Driver?</span><a href="#what-if-im-using-a-library-that-includes-a-mongodb-driver" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Many popular <a href="/blog/2022/11/02/mongodb-orms-odms-and-libraries/">libraries, ORMs and ODMs</a> depend upon an official MongoDB Driver. Under most scenarios package management will be used to manage the library’s dependencies, which can be used to determine which version of the MongoDB Driver is being used.</p><p>For example, let’s consider some of the most popular libraries and ORMs. As the source code for most libraries are hosted on GitHub (or some other service) a similar strategy can be followed to identify what version of the MongoDB driver is being used for a given version of the library.</p><p>Many libraries use <a href="https://semver.org/">Semantic Versioning</a>, so if you’re unsure how to determine if a given constraint (ex: <code class="language-plaintext highlighter-rouge">&gt;=2.4.1', '&lt;3.0.0'</code>) would include a version of a Driver (ex: <code class="language-plaintext highlighter-rouge">2.18.2</code>), the <a href="https://jubianchi.github.io/semver-check">Semver check</a> tool can help.</p><h3 id="mongoid"><span class="mr-2">Mongoid</span><a href="#mongoid" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Mongoid is the ORM (or ODM) of choice for Ruby on Rails developers. As it is developed and maintained by MongoDB directly a <a href="https://www.mongodb.com/docs/mongoid/current/reference/compatibility/">compatibility</a> page is available that can be used to identify what version of the library can be used with which versions of the MongoDB Server.</p><p>As a Ruby library however, dependencies are managed using <a href="https://bundler.io/">Bundler</a>, which implies either a <code class="language-plaintext highlighter-rouge">Gemfile</code> or <code class="language-plaintext highlighter-rouge">&lt;library&gt;.gemspec</code> will be present and should contain dependency and version details. Since the source code is available, if we wanted to identify what version of the Ruby Driver an older version of Mongoid (ex: <code class="language-plaintext highlighter-rouge">5.2.0</code>) required we could do the following:</p><ol><li>Navigate to the <a href="https://github.com/mongodb/mongoid/tree/v5.2.0">appropriate branch/tag on Github</a><li>Open the <a href="https://github.com/mongodb/mongoid/blob/v5.2.0/mongoid.gemspec"><code class="language-plaintext highlighter-rouge">mongoid.gemspec</code> file</a><li>Identify what <a href="https://github.com/mongodb/mongoid/blob/v5.2.0/mongoid.gemspec#L31">versions of the driver are pinned</a> (<code class="language-plaintext highlighter-rouge">"mongo", ['&gt;=2.4.1', '&lt;3.0.0']</code> in this case)</ol><p>Note that your application’s <code class="language-plaintext highlighter-rouge">Gemfile.lock</code> would indicate <em>exactly</em> which version of the Driver is being used, however if you don’t have access to this the above can help point you in the right direction.</p><h3 id="mongoose"><span class="mr-2">Mongoose</span><a href="#mongoose" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://mongoosejs.com/">Mongoose</a> provides a straight-forward, schema-based solution to model your Node.js application’s data. It includes built-in type casting, validation, query building, business logic hooks and more, out of the box.</p><p>As a Node.js library, dependencies are managed using <a href="https://nodejs.org/api/packages.html#modules-packages">Node Modules</a>, which would indicate a <code class="language-plaintext highlighter-rouge">package.json</code> file would be present that describes the dependencies and version details. Since the source code is available, if we wanted to identify what version of the Node.js Driver an older version of Mongoose (ex: <code class="language-plaintext highlighter-rouge">4.9.9</code>) required we could do the following:</p><ol><li>Navigate to the appropriate <a href="https://github.com/Automattic/mongoose/tree/4.9.9">branch/tag on Github</a><li>Open the <a href="https://github.com/Automattic/mongoose/blob/4.9.9/package.json"><code class="language-plaintext highlighter-rouge">package.json</code> file</a><li>Identify what <a href="https://github.com/Automattic/mongoose/blob/4.9.9/package.json#L26">versions of the driver are pinned</a> (<code class="language-plaintext highlighter-rouge">"mongodb": "2.2.26"</code> in this case)</ol><p>Note that your application’s <code class="language-plaintext highlighter-rouge">package-lock.json</code> would indicate <em>exactly</em> which version of the Driver is being used, however if you don’t have access to this the above can help point you in the right direction.</p><h3 id="spring-data-mongodb"><span class="mr-2">Spring Data MongoDB</span><a href="#spring-data-mongodb" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://spring.io/projects/spring-data-mongodb">Spring Data MongoDB</a> is part of the umbrella Spring Data project which aims to provide a familiar and consistent Spring-based programming model for new datastores while retaining store-specific features and capabilities. The Spring Data MongoDB project provides integration with the MongoDB document database. Key functional areas of Spring Data MongoDB are a POJO centric model for interacting with a MongoDB DBCollection and easily writing a Repository style data access layer.</p><p>As a Java library, dependencies are managed using <a href="https://maven.apache.org/index.html">Maven</a>, which would indicate a <code class="language-plaintext highlighter-rouge">pom.xml</code> file would be present that describes the dependencies and version details. Since the source code is available, if we wanted to identify what version of the Node.js Driver an older version of Spring Data MongoDB (ex: <code class="language-plaintext highlighter-rouge">3.0.9.RELEASE</code>) required we could do the following:</p><ol><li>Navigate to the <a href="https://github.com/spring-projects/spring-data-mongodb/tree/3.0.9.RELEASE">appropriate branch/tag on Github</a><li>Open the <a href="https://github.com/spring-projects/spring-data-mongodb/blob/3.0.9.RELEASE/pom.xml"><code class="language-plaintext highlighter-rouge">pom.xml</code> file</a><li>Identify what <a href="https://github.com/spring-projects/spring-data-mongodb/blob/3.0.9.RELEASE/pom.xml#L30">versions of the driver are pinned</a> (<code class="language-plaintext highlighter-rouge">&lt;mongo&gt;4.0.6&lt;/mongo&gt;</code> in this case, which is a variable referenced later to identify the appropriate driver version)<div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre> <span class="nt">&lt;dependency&gt;</span>
   <span class="nt">&lt;groupId&gt;</span>org.mongodb<span class="nt">&lt;/groupId&gt;</span>
   <span class="nt">&lt;artifactId&gt;</span>mongodb-driver-core<span class="nt">&lt;/artifactId&gt;</span>
   <span class="nt">&lt;version&gt;</span>${mongo}<span class="nt">&lt;/version&gt;</span>
 <span class="nt">&lt;/dependency&gt;</span>
</pre></table></code></div></div></ol><h2 id="what-if-my-version-of-the-driver-isnt-in-the-compatibility-matrix"><span class="mr-2">What if my version of the Driver isn’t in the compatibility matrix?</span><a href="#what-if-my-version-of-the-driver-isnt-in-the-compatibility-matrix" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The most important thing to understand about Driver versions when it comes to MongoDB is that <strong>anything your current Driver was doing successfully while connected to MongoDB X.Y should <em>continue to work correctly</em> while connected to a newer MongoDB Server</strong>. This statement should be accurate if your upgrade path is taking you from a single <a href="https://www.mongodb.com/docs/manual/reference/versioning/">major release</a> to the next highest release (ex: 5.0 to 6.0).</p><blockquote class="prompt-warning"><p>Backwards breaking changes that would prevent you from successfully connecting to a MongoDB Server from your current application occur <strong>extremely rarely</strong>. One example that is worth noting involves the <a href="https://www.mongodb.com/docs/manual/release-notes/5.1-compatibility/#std-label-legacy-op-codes-removed">removal of Legacy Opcodes</a> in MongoDB 6.0.</p><p>If you have a version of a MongoDB Driver that predates the support for MongoDB 3.6 and the <a href="https://www.mongodb.com/docs/manual/reference/mongodb-wire-protocol/#op_msg"><code class="language-plaintext highlighter-rouge">OP_MSG</code></a> opcode, trying to interact with MongoDB 6.0+ Servers via these antiquated drivers will result in only errors being thrown due to unknown opcodes being used.</p></blockquote><p>As a general rule of thumb, assuming the only change to your application stack is an upgraded MongoDB Server version:</p><ul><li>Your application <em>should</em> continue to operate without issue<li>You <em>should plan</em> to upgrade to the latest driver to ensure you have the latest features and fixes<li>You <em>should always</em> test your MongoDB Server upgrades and application compatibility in a non-production environment <strong>first</strong> prior to upgrading your production environment and application(s)</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/mongodb/'>MongoDB</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/upgrade/" class="post-tag no-text-decoration" >upgrade</a> <a href="/tags/drivers/" class="post-tag no-text-decoration" >drivers</a> <a href="/tags/mongodb/" class="post-tag no-text-decoration" >mongodb</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Will%20Upgrading%20My%20MongoDB%20Server%20Version%20Break%20My%20Application?%20-%20ALEX%20BEVILACQUA&url=https%3A%2F%2Fwww.alexbevi.com%2Fblog%2F2023%2F01%2F13%2Fwill-upgrading-my-mongodb-server-version-break-my-application%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Will%20Upgrading%20My%20MongoDB%20Server%20Version%20Break%20My%20Application?%20-%20ALEX%20BEVILACQUA&u=https%3A%2F%2Fwww.alexbevi.com%2Fblog%2F2023%2F01%2F13%2Fwill-upgrading-my-mongodb-server-version-break-my-application%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fwww.alexbevi.com%2Fblog%2F2023%2F01%2F13%2Fwill-upgrading-my-mongodb-server-version-break-my-application%2F&text=Will%20Upgrading%20My%20MongoDB%20Server%20Version%20Break%20My%20Application?%20-%20ALEX%20BEVILACQUA" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fwww.alexbevi.com%2Fblog%2F2023%2F01%2F13%2Fwill-upgrading-my-mongodb-server-version-break-my-application%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <a href="http://service.weibo.com/share/share.php?title=Will%20Upgrading%20My%20MongoDB%20Server%20Version%20Break%20My%20Application?%20-%20ALEX%20BEVILACQUA&url=https%3A%2F%2Fwww.alexbevi.com%2Fblog%2F2023%2F01%2F13%2Fwill-upgrading-my-mongodb-server-version-break-my-application%2F" data-toggle="tooltip" data-placement="top" title="Weibo" target="_blank" rel="noopener" aria-label="Weibo"> <i class="fa-fw fab fa-weibo"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/blog/2021/08/08/adventure-games-1980-1999-sorted-by-score/">Adventure Games (1980-1999): Sorted by Score</a><li><a href="/blog/2023/03/30/i-have-no-mouth-and-i-must-scream/">I Have No Mouth, and I Must Scream (The Dreamers Guild) - 1995</a><li><a href="/blog/2021/07/28/adventure-games-1980-1999/">Let's Adventure! A Journey into Adventure Games (1980-1999)</a><li><a href="/blog/2021/08/03/mystery-house/">Mystery House (On-Line Systems) - 1980</a><li><a href="/blog/2021/08/06/kings-quest/">King’s Quest: Quest for the Crown (Sierra On-Line) - 1984</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/adventure/">adventure</a> <a class="post-tag" href="/tags/mongodb/">mongodb</a> <a class="post-tag" href="/tags/redmine/">redmine</a> <a class="post-tag" href="/tags/rpg/">rpg</a> <a class="post-tag" href="/tags/ruby/">ruby</a> <a class="post-tag" href="/tags/book/">book</a> <a class="post-tag" href="/tags/sierra-on-line/">Sierra On-Line</a> <a class="post-tag" href="/tags/jrpg/">jrpg</a> <a class="post-tag" href="/tags/snes/">snes</a> <a class="post-tag" href="/tags/linux/">linux</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div><script src="/assets/lib/tocbot/tocbot.min.js"></script></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/blog/2023/03/29/comparing-mongodb-to-not-mongodb-ex-documentdb-or-cosmos-db/"><div class="card-body"> <em class="small" data-ts="1680109957" data-df="ll" > Mar 29, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Comparing MongoDB to not-MongoDB (ex: DocumentDB or Cosmos DB)</h3><div class="text-muted small"><p> Let’s start off first with what is MongoDB? MongoDB’s document model is simple for developers to learn and use, while still providing all the capabilities needed to meet the most complex requiremen...</p></div></div></a></div><div class="card"> <a href="/blog/2021/12/23/mongodb-driver-specifications/"><div class="card-body"> <em class="small" data-ts="1640272099" data-df="ll" > Dec 23, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>MongoDB Driver Specifications</h3><div class="text-muted small"><p> To ensure official MongoDB Drivers are developed with consistent functionality and APIs MongoDB maintains a set of public specifications (see GitHub Repository) that driver engineers can reference ...</p></div></div></a></div><div class="card"> <a href="/blog/2022/05/15/mongodb-driver-monitoring/"><div class="card-body"> <em class="small" data-ts="1652617629" data-df="ll" > May 15, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>MongoDB Driver Monitoring</h3><div class="text-muted small"><p> One of the great things about MongoDB Drivers is that they are all built around a common set of specifications. Though these specifications exist to facilitate the development of new language drive...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/blog/2023/01/12/live-migration-of-sharded-clusters-can-result-in-toomanylogicalsessions/" class="btn btn-outline-primary" prompt="Older"><p>Live Migration of Sharded Clusters to MongoDB Atlas could result in <tt>TooManyLogicalSessions</tt> Errors</p></a> <a href="/blog/2023/01/16/hopkins-fbi/" class="btn btn-outline-primary" prompt="Newer"><p>Hopkins FBI (MP Entertainment) - 1998</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small">Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://www.alexbevi.com/blog/2023/01/13/will-upgrading-my-mongodb-server-version-break-my-application/'; this.page.identifier = '/blog/2023/01/13/will-upgrading-my-mongodb-server-version-break-my-application/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver( function (entries) { if (entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://alexbevi.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] } ); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* Disqus hasn't been loaded */ if (typeof DISQUS === 'undefined') { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } } if (document.querySelector('.mode-toggle')) { window.addEventListener('message', reloadDisqus); } </script></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/adventure/">adventure</a> <a class="post-tag" href="/tags/mongodb/">mongodb</a> <a class="post-tag" href="/tags/redmine/">redmine</a> <a class="post-tag" href="/tags/rpg/">rpg</a> <a class="post-tag" href="/tags/ruby/">ruby</a> <a class="post-tag" href="/tags/book/">book</a> <a class="post-tag" href="/tags/sierra-on-line/">Sierra On-Line</a> <a class="post-tag" href="/tags/jrpg/">jrpg</a> <a class="post-tag" href="/tags/snes/">snes</a> <a class="post-tag" href="/tags/linux/">linux</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/alexbevi">Alex Bevilacqua</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0">Using the <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> theme <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>.</p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="/assets/lib/simple-jekyll-search/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="/assets/lib/magnific-popup/jquery.magnific-popup.min.js"></script> <script src="/assets/lib/lazysizes/lazysizes.min.js"></script> <script src="/assets/lib/clipboard/clipboard.min.js"></script> <script src="/assets/lib/dayjs/dayjs.min.js"></script> <script src="/assets/lib/dayjs/locale/en.min.js"></script> <script src="/assets/lib/dayjs/plugin/relativeTime.min.js"></script> <script src="/assets/lib/dayjs/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="/assets/lib/bootstrap/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
